# Mesh v2 Environment Variables
# Copy this file to .env and adjust values for local development

# AWS CDK Stage (stg or prod)
STAGE=prod

# Mesh Secret Key (for domain validation)
MESH_SECRET_KEY=your-secret-key-here

# Host Heartbeat Settings (Production defaults)
# Host sends heartbeat every 60 seconds
MESH_HOST_HEARTBEAT_INTERVAL_SECONDS=60
# Host group expires after 150 seconds of no heartbeat
MESH_HOST_HEARTBEAT_TTL_SECONDS=150

# Member Heartbeat Settings (Production defaults)
# Member sends heartbeat every 120 seconds (2 minutes)
MESH_MEMBER_HEARTBEAT_INTERVAL_SECONDS=120
# Member node expires after 600 seconds (10 minutes) of no heartbeat
MESH_MEMBER_HEARTBEAT_TTL_SECONDS=600

# Maximum connection time (expiresAt) for a group
MESH_MAX_CONNECTION_TIME_SECONDS=1500

# Custom Domain Settings
# APPSYNC_CUSTOM_DOMAIN=graphql.api.smalruby.app
# ROUTE53_PARENT_ZONE_NAME=api.smalruby.app

# Development Recommended Values (uncomment to use)
# MESH_HOST_HEARTBEAT_INTERVAL_SECONDS=15
# MESH_HOST_HEARTBEAT_TTL_SECONDS=60
# MESH_MEMBER_HEARTBEAT_INTERVAL_SECONDS=15
# MESH_MEMBER_HEARTBEAT_TTL_SECONDS=60
# MESH_MAX_CONNECTION_TIME_SECONDS=300

# Event Polling Settings
# Event TTL in seconds (events are auto-deleted after this time)
MESH_EVENT_TTL_SECONDS=10

# Polling interval for clients that cannot use WebSocket (in seconds)
MESH_POLLING_INTERVAL_SECONDS=2
